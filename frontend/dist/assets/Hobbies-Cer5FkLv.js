import{B as g}from"./Base-CGKzg1ZP.js";import{a as n}from"./index-NIGUFBhG.js";import{_ as y,h as f,g as w,r as x,o as i,a as o,e as v,w as _,c,d as H,v as k,t as u,F as B,i as E}from"./index-Cdq9OZIc.js";const d="http://localhost:8889/fahad-jadiya/hobbies",l=localStorage.getItem("token"),b={async getAll(){return(await n.get(d,{headers:{Authorization:`Bearer ${l}`}})).data},async add(e){return(await n.post(d+"/add",e,{headers:{Authorization:`Bearer ${l}`}})).data},async update(e,t){return(await n.put(`${d}/edit/${e}`,t,{headers:{Authorization:`Bearer ${l}`}})).data},async delete(e){return(await n.delete(`${d}/delete/${e}`,{headers:{Authorization:`Bearer ${l}`}})).data}},C={name:"HobbiesComponent",data(){return{hobbies:[],form:{id:null,name:""},isEditing:!1}},async created(){await this.loadHobbies()},methods:{async loadHobbies(){try{const e=await b.getAll();this.hobbies=e.data||[]}catch(e){console.error("Error fetching hobbies:",e)}},async saveHobby(){try{this.isEditing?await b.update(this.form.id,{name:this.form.name}):await b.add({name:this.form.name}),await this.loadHobbies(),this.resetForm()}catch(e){console.error("Error saving hobby:",e)}},editHobby(e){this.form.id=e.id,this.form.name=e.name,this.isEditing=!0},async deleteHobby(e){try{await b.delete(e),await this.loadHobbies()}catch(t){console.error("Error deleting hobby:",t)}},resetForm(){this.form.id=null,this.form.name="",this.isEditing=!1}},components:{Base:g}},A={class:"p-6 bg-white shadow-lg rounded-lg"},F={type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"},z={class:"text-gray-700"},S={class:"flex gap-3"},D=["onClick"],M=["onClick"];function U(e,t,h,V,a,r){const m=x("Base");return i(),f(m,null,{default:w(()=>[o("div",A,[t[3]||(t[3]=o("h2",{class:"text-2xl font-bold mb-6 text-gray-800 border-b pb-2"}," Manage Hobbies ",-1)),o("form",{onSubmit:t[2]||(t[2]=v((...s)=>r.saveHobby&&r.saveHobby(...s),["prevent"])),class:"mb-6 flex gap-4"},[_(o("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>a.form.name=s),type:"text",required:"",placeholder:"Enter hobby",class:"flex-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[k,a.form.name]]),o("button",F,u(a.isEditing?"Update":"Add"),1),a.isEditing?(i(),c("button",{key:0,type:"button",onClick:t[1]||(t[1]=(...s)=>r.resetForm&&r.resetForm(...s)),class:"px-4 py-2 bg-gray-400 text-white rounded-lg hover:bg-gray-500"}," Cancel ")):H("",!0)],32),o("ul",null,[(i(!0),c(B,null,E(a.hobbies,s=>(i(),c("li",{key:s.id,class:"flex justify-between items-center p-3 bg-gray-50 rounded mb-2"},[o("span",z,u(s.name),1),o("div",S,[o("button",{onClick:p=>r.editHobby(s),class:"px-3 py-1 bg-yellow-500 text-white rounded hover:bg-yellow-600"}," Edit ",8,D),o("button",{onClick:p=>r.deleteHobby(s.id),class:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700"}," Delete ",8,M)])]))),128))])])]),_:1})}const L=y(C,[["render",U]]);export{L as default};
