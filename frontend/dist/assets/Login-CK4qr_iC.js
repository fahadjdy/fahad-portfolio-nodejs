import{a as m}from"./index-NIGUFBhG.js";import{_ as u,c as i,a as o,e as b,f as n,v as d,g as f,t as w,o as p}from"./index-CqamQdaU.js";const g={data(){return{email:"",password:"",error:null}},methods:{async login(){var l,s;try{const r=await m.post("http://fahad-jadiya.com/backend/auth/login",{email:this.email,password:this.password});localStorage.setItem("token",r.data.token),this.$router.push("/admin/profile")}catch(r){this.error=((s=(l=r.response)==null?void 0:l.data)==null?void 0:s.error)||"Something went wrong. Please try again."}}}},c={class:"p-4"},x={class:"mb-4"},y={class:"mb-4"},k={key:0,class:"text-red-500"};function v(l,s,r,h,e,a){return p(),i("div",c,[s[6]||(s[6]=o("h2",{class:"text-2xl font-bold mb-4"},"Login",-1)),o("form",{onSubmit:s[2]||(s[2]=f((...t)=>a.login&&a.login(...t),["prevent"])),class:"mb-4"},[o("div",x,[s[3]||(s[3]=o("label",{for:"email",class:"block mb-2"},"Email",-1)),n(o("input",{type:"email",id:"email","onUpdate:modelValue":s[0]||(s[0]=t=>e.email=t),class:"border p-2 w-full"},null,512),[[d,e.email]])]),o("div",y,[s[4]||(s[4]=o("label",{for:"password",class:"block mb-2"},"Password",-1)),n(o("input",{type:"password",id:"password","onUpdate:modelValue":s[1]||(s[1]=t=>e.password=t),class:"border p-2 w-full"},null,512),[[d,e.password]])]),s[5]||(s[5]=o("button",{type:"submit",class:"bg-blue-500 text-white px-4 py-2"},"Login",-1))],32),e.error?(p(),i("p",k,w(e.error),1)):b("",!0)])}const B=u(g,[["render",v]]);export{B as default};
