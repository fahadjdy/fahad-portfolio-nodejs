import{B as v}from"./Base-CGKzg1ZP.js";import{a as p}from"./index-NIGUFBhG.js";import{_ as w,k as y,c as d,a as t,t as u,e as j,w as i,v as c,d as m,l as P,F,i as C,o as a,h as E,g as V,r as _,f as D}from"./index-Cdq9OZIc.js";const g="http://localhost:8889/fahad-jadiya/projects";localStorage.getItem("token");function f(o=!1){const e=localStorage.getItem("token");return o?{"Content-Type":"multipart/form-data",Authorization:`Bearer ${e}`,"Cache-Control":"no-cache"}:{"Content-Type":"application/json",Authorization:`Bearer ${e}`,"Cache-Control":"no-cache"}}const b={async getAll(){return(await p.get(g,{headers:f()})).data},async add(o){const e=new FormData;return o.imageFile&&e.append("image",o.imageFile),e.append("title",o.title||""),e.append("description",o.description||""),e.append("tech_stack",o.tech_stack||""),e.append("link",o.link||""),e.append("github",o.github||""),o.from_date&&e.append("from_date",o.from_date),o.to_date&&e.append("to_date",o.to_date),e.append("is_current",o.is_current?1:0),e.append("order_no",o.order_no||0),(await p.post(`${g}/add`,e,{headers:f(!0)})).data},async update(o,e){const n=new FormData;return e.imageFile&&n.append("image",e.imageFile),n.append("title",e.title||""),n.append("description",e.description||""),n.append("tech_stack",e.tech_stack||""),n.append("link",e.link||""),n.append("github",e.github||""),e.from_date&&n.append("from_date",e.from_date),e.to_date&&n.append("to_date",e.to_date),n.append("is_current",e.is_current?1:0),n.append("order_no",e.order_no||0),(await p.put(`${g}/edit/${o}`,n,{headers:f(!0)})).data},async delete(o){return(await p.delete(`${g}/delete/${o}`,{headers:f()})).data}},U={data(){return{project:{id:null,title:"",description:"",tech_stack:"",link:"",github:"",image:"",imageFile:null,from_date:"",to_date:"",is_current:!1,order_no:""},projects:[],isEditing:!1}},methods:{handleFileChange(o){const e=o.target.files[0];e&&(this.project.imageFile=e)},async addProject(){try{await b.add(this.project,!0),await this.loadProjects(),this.resetForm()}catch(o){console.error("Error adding project:",o)}},async updateProject(){try{await b.update(this.project.id,this.project,!0),await this.loadProjects(),this.resetForm()}catch(o){console.error("Error updating project:",o)}},editProject(o){this.project={...o,is_current:o.is_current===1,from_date:y(o.from_date),to_date:y(o.to_date),imageFile:null},this.isEditing=!0},async deleteProject(o){confirm("Are you sure you want to delete this project?")&&(await b.delete(o),this.projects=this.projects.filter(e=>e.id!==o))},async loadProjects(){try{const o=await b.getAll();this.projects=o.data}catch(o){console.error("Error loading projects:",o)}},resetForm(){this.project={id:null,title:"",description:"",tech_stack:"",link:"",github:"",image:[],imageFile:null,from_date:"",to_date:"",is_current:!1,order_no:""},this.isEditing=!1}},async mounted(){await this.loadProjects()}},A={class:"flex flex-wrap"},B={class:"w-full lg:w-1/3"},S={class:"max-w-xlg mx-auto p-6 bg-white shadow-xl rounded-lg"},T={class:"text-2xl font-bold mb-6 text-gray-800 border-b pb-2"},I={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},L={class:"mt-2 flex flex-wrap gap-2"},N=["src"],z={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},M={class:"flex items-center gap-2"},G={type:"submit",class:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-200"},H={class:"w-full lg:w-1/2 max-w-xlg mx-10 p-6 bg-white shadow-xl rounded-lg"},O={class:"flex items-center justify-between mb-6"},R={class:"mt-6 divide-y divide-gray-200"},W={class:"font-semibold text-gray-800"},q={class:"text-sm text-gray-500"},J={class:"text-sm text-gray-500"},K={class:"flex items-center gap-2"},Q=["href"],X=["href"],Y={key:0,class:"flex items-center gap-2"},Z=["src"],$={class:"flex gap-3"},ee=["onClick"],te=["onClick"];function oe(o,e,n,x,r,l){return a(),d("div",A,[t("div",B,[t("div",S,[t("h2",T,u(r.isEditing?"Edit Project":"Add Project"),1),t("form",{onSubmit:e[10]||(e[10]=j(s=>r.isEditing?l.updateProject():l.addProject(),["prevent"])),class:"space-y-5"},[t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Title",-1)),i(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>r.project.title=s),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-300"},null,512),[[c,r.project.title]])]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),i(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=s=>r.project.description=s),rows:"3",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-300"},null,512),[[c,r.project.description]])]),t("div",null,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tech Stack",-1)),i(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>r.project.tech_stack=s),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-300"},null,512),[[c,r.project.tech_stack]])]),t("div",I,[t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Project Link",-1)),i(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>r.project.link=s),type:"url",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-300"},null,512),[[c,r.project.link]])]),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Github",-1)),i(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>r.project.github=s),type:"url",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-300"},null,512),[[c,r.project.github]])])]),t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Image",-1)),t("input",{type:"file",name:"image",accept:"image/*",onChange:e[5]||(e[5]=(...s)=>l.handleFileChange&&l.handleFileChange(...s)),class:"w-full px-4 py-2 ..."},null,32),t("div",L,[r.isEditing?(a(),d("img",{key:0,src:`http://localhost:8889/public/${r.project.image}`,class:"w-16 h-16 object-cover rounded border border-gray-300"},null,8,N)):m("",!0)])]),t("div",z,[t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"From Date",-1)),i(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>r.project.from_date=s),type:"date",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-300"},null,512),[[c,r.project.from_date]])]),t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"To Date",-1)),i(t("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>r.project.to_date=s),type:"date",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-300"},null,512),[[c,r.project.to_date]])])]),t("div",M,[i(t("input",{type:"checkbox","onUpdate:modelValue":e[8]||(e[8]=s=>r.project.is_current=s),class:"h-4 w-4 text-blue-600"},null,512),[[P,r.project.is_current]]),e[20]||(e[20]=t("label",{class:"text-sm text-gray-700"},"Currently Working",-1))]),t("div",null,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Order No",-1)),i(t("input",{"onUpdate:modelValue":e[9]||(e[9]=s=>r.project.order_no=s),type:"number",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-300"},null,512),[[c,r.project.order_no]])]),t("button",G,u(r.isEditing?"Update Project":"Add Project"),1)],32)])]),t("div",H,[t("div",O,[e[22]||(e[22]=t("h2",{class:"text-2xl font-bold text-gray-800 border-b pb-2"},"Project List",-1)),r.isEditing?(a(),d("button",{key:0,onClick:e[11]||(e[11]=(...s)=>l.resetForm&&l.resetForm(...s)),class:"px-3 py-1 text-sm text-white bg-blue-500 rounded hover:bg-blue-600 transition"}," Add Project ")):m("",!0)]),t("ul",R,[(a(!0),d(F,null,C(r.projects,(s,h)=>(a(),d("li",{key:s.id,class:"py-3 flex justify-between items-center"},[t("div",null,[t("p",W,u(h+1)+". "+u(s.title)+" | "+u(s.tech_stack),1),t("p",q,u(o.$common.formatDate(s.from_date))+" - "+u(s.is_current?"Present":o.$common.formatDate(s.to_date)),1),t("p",J,u(s.description),1)]),t("div",K,[s.link?(a(),d("a",{key:0,href:s.link,target:"_blank",class:"text-blue-500 hover:underline text-sm"},"View Project",8,Q)):m("",!0),s.github?(a(),d("a",{key:1,href:s.github,target:"_blank",class:"text-blue-500 hover:underline text-sm"},"Github",8,X)):m("",!0)]),s.image?(a(),d("div",Y,[t("img",{src:`http://localhost:8889/public/${s.image}`,class:"w-10 h-10 object-cover rounded-full border border-gray-300"},null,8,Z)])):m("",!0),t("div",$,[t("button",{onClick:k=>l.editProject(s),class:"px-3 py-1 text-sm text-white bg-blue-500 rounded hover:bg-blue-600 transition"},e[23]||(e[23]=[t("i",{class:"fas fa-pen"},null,-1)]),8,ee),t("button",{onClick:k=>l.deleteProject(s.id),class:"px-3 py-1 text-sm text-white bg-red-500 rounded hover:bg-red-600 transition"},e[24]||(e[24]=[t("i",{class:"fa fa-trash"},null,-1)]),8,te)])]))),128))])])])}const se=w(U,[["render",oe]]),re={components:{Base:v,Projects:se}};function ne(o,e,n,x,r,l){const s=_("Projects",!0),h=_("Base");return a(),E(h,null,{default:V(()=>[D(s)]),_:1})}const de=w(re,[["render",ne]]);export{de as default};
