import{B as E}from"./Base-4qbJ1u12.js";import{a as p}from"./index-NIGUFBhG.js";import{_ as w,c as m,a as t,t as s,g as _,f as l,v as d,b as v,e as k,F as B,i as C,o as c,h as A,w as V,r as y,d as D}from"./index-CqamQdaU.js";const x="http://fahad-jadiya.com/backend/experience",f=localStorage.getItem("token"),b={async getAll(){return(await p.get(x,{headers:{Authorization:`Bearer ${f}`}})).data},async add(r){return(await p.post(x+"/add",r,{headers:{Authorization:`Bearer ${f}`}})).data},async update(r,e){return(await p.put(`${x}/edit/${r}`,e,{headers:{Authorization:`Bearer ${f}`}})).data},async delete(r){return(await p.delete(`${x}/delete/${r}`,{headers:{Authorization:`Bearer ${f}`}})).data}},U={data(){return{experience:{id:null,title:"",company:"",location:"",from_date:"",to_date:"",order_no:"",description:""},experiences:[],isEditing:!1}},methods:{async addExperience(){try{await b.add(this.experience),await this.loadExperiences(),this.resetForm()}catch(r){console.error("Error adding experience:",r)}},addExperienceButton(){this.resetForm(),this.isEditing=!1},editExperience(r){const e=a=>{if(!a)return"";const u=new Date(a);return`${u.getFullYear()}-${String(u.getMonth()+1).padStart(2,"0")}-${String(u.getDate()).padStart(2,"0")}`};this.experience={...r,from_date:e(r.from_date),to_date:e(r.to_date)},this.isEditing=!0},async updateExperience(){if(this.experience.id)try{await b.update(this.experience.id,this.experience),await this.loadExperiences(),this.resetForm(),this.isEditing=!1}catch(r){console.error("Error updating experience:",r)}},async deleteExperience(r){confirm("Are you sure you want to delete this experience?")&&(await b.delete(r),this.experiences=this.experiences.filter(e=>e.id!==r))},async loadExperiences(){try{const r=await b.getAll();this.experiences=r.data}catch(r){console.error("Error loading experiences:",r)}},resetForm(){this.experience={id:null,title:"",company:"",location:"",from_date:"",to_date:"",order_no:"",description:""},this.isEditing=!1}},async mounted(){try{await this.loadExperiences()}catch{}}},F={class:"flex flex-wrap"},S={class:"w-full lg:w-1/3"},z={class:"max-w-xlg mx-auto p-6 bg-white shadow-xl rounded-lg"},L={class:"text-2xl font-bold mb-6 text-gray-800 border-b pb-2"},N={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},T={type:"submit",class:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-200"},j={class:"w-full lg:w-1/2 max-w-xlg mx-10 p-6 bg-white shadow-xl rounded-lg"},M={class:"flex items-center justify-between mb-6"},I={class:"mt-6 divide-y divide-gray-200"},P={class:"font-semibold text-gray-800"},$={class:"text-sm text-gray-500"},J={class:"text-sm text-gray-500"},R={class:"flex gap-3"},Y=["onClick"],q=["onClick"];function G(r,e,a,u,n,i){return c(),m("div",F,[t("div",S,[t("div",z,[t("h2",L,s(n.isEditing?"Edit Experience":"Add Experience"),1),t("form",{onSubmit:e[7]||(e[7]=_(o=>n.isEditing?i.updateExperience():i.addExperience(),["prevent"])),class:"space-y-5"},[t("div",null,[e[9]||(e[9]=t("label",{for:"title",class:"block text-sm font-medium text-gray-700 mb-1"},"Title",-1)),l(t("input",{type:"text",id:"title","onUpdate:modelValue":e[0]||(e[0]=o=>n.experience.title=o),class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-300"},null,512),[[d,n.experience.title]])]),t("div",null,[e[10]||(e[10]=t("label",{for:"company",class:"block text-sm font-medium text-gray-700 mb-1"},"Company",-1)),l(t("input",{type:"text",id:"company","onUpdate:modelValue":e[1]||(e[1]=o=>n.experience.company=o),class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-300"},null,512),[[d,n.experience.company]])]),t("div",null,[e[11]||(e[11]=t("label",{for:"location",class:"block text-sm font-medium text-gray-700 mb-1"},"Location",-1)),l(t("input",{type:"text",id:"location","onUpdate:modelValue":e[2]||(e[2]=o=>n.experience.location=o),class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-300"},null,512),[[d,n.experience.location]])]),t("div",null,[e[12]||(e[12]=t("label",{for:"order_no",class:"block text-sm font-medium text-gray-700 mb-1"},"Job Change Number",-1)),l(t("input",{type:"number",id:"order_no","onUpdate:modelValue":e[3]||(e[3]=o=>n.experience.order_no=o),class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-300"},null,512),[[d,n.experience.order_no]])]),t("div",N,[t("div",null,[e[13]||(e[13]=t("label",{for:"from_date",class:"block text-sm font-medium text-gray-700 mb-1"},"From Date",-1)),l(t("input",{type:"date",id:"from_date","onUpdate:modelValue":e[4]||(e[4]=o=>n.experience.from_date=o),class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-300"},null,512),[[d,n.experience.from_date]])]),t("div",null,[e[14]||(e[14]=t("label",{for:"to_date",class:"block text-sm font-medium text-gray-700 mb-1 flex items-center gap-1"},[v(" To Date "),t("i",{class:"fa fa-info-circle text-gray-400 cursor-pointer hover:text-gray-600",title:"Leave empty if this is your current role"})],-1)),l(t("input",{type:"date",id:"to_date","onUpdate:modelValue":e[5]||(e[5]=o=>n.experience.to_date=o),class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-300"},null,512),[[d,n.experience.to_date]])])]),t("div",null,[e[15]||(e[15]=t("label",{for:"description",class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),l(t("textarea",{id:"description","onUpdate:modelValue":e[6]||(e[6]=o=>n.experience.description=o),rows:"3",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-300"},null,512),[[d,n.experience.description]])]),t("button",T,s(n.isEditing?"Update Experience":"Add Experience"),1)],32)])]),t("div",j,[t("div",M,[e[16]||(e[16]=t("h2",{class:"text-2xl font-bold text-gray-800 border-b pb-2"},"Experience List",-1)),n.isEditing?(c(),m("button",{key:0,onClick:e[8]||(e[8]=(...o)=>i.addExperienceButton&&i.addExperienceButton(...o)),class:"px-3 py-1 text-sm text-white bg-blue-500 rounded hover:bg-blue-600 transition"}," Add Experience ")):k("",!0)]),t("ul",I,[(c(!0),m(B,null,C(n.experiences,(o,g)=>(c(),m("li",{key:o.id,class:"py-3 flex justify-between items-center"},[t("div",null,[t("p",P,s(g+1)+". "+s(o.title)+" | "+s(o.location),1),t("p",$,s(o.company)+" â€¢ "+s(r.$common.formatDate(o.from_date))+" - "+s(o.to_date?r.$common.formatDate(o.to_date):"Present"),1),t("p",J,s(o.description),1)]),t("div",R,[t("button",{onClick:h=>i.editExperience(o),class:"px-3 py-1 text-sm text-white bg-blue-500 rounded hover:bg-blue-600 transition"},e[17]||(e[17]=[t("i",{class:"fas fa-pen"},null,-1)]),8,Y),t("button",{onClick:h=>i.deleteExperience(o.id),class:"px-3 py-1 text-sm text-white bg-red-500 rounded hover:bg-red-600 transition"},e[18]||(e[18]=[t("i",{class:"fa fa-trash"},null,-1)]),8,q)])]))),128))])])])}const H=w(U,[["render",G]]),K={components:{Base:E,ExperienceComponent:H}};function O(r,e,a,u,n,i){const o=y("ExperienceComponent"),g=y("Base");return c(),A(g,null,{default:V(()=>[D(o)]),_:1})}const Z=w(K,[["render",O]]);export{Z as default};
