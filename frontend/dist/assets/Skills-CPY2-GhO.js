import{B as v}from"./Base-4qbJ1u12.js";import{a as n}from"./index-NIGUFBhG.js";import{_ as y,h as x,w as _,r as k,o as i,a as e,g as w,f as c,v as p,j as S,c as f,e as B,t as d,F as E,i as A}from"./index-CqamQdaU.js";const a="http://fahad-jadiya.com/backend/skills",m=localStorage.getItem("token"),u={async getAll(){return(await n.get(a,{headers:{Authorization:`Bearer ${m}`}})).data},async add(o){return(await n.post(a+"/add",o,{headers:{Authorization:`Bearer ${m}`}})).data},async update(o,t){return(await n.put(`${a}/edit/${o}`,t,{headers:{Authorization:`Bearer ${m}`}})).data},async delete(o){return(await n.delete(`${a}/delete/${o}`,{headers:{Authorization:`Bearer ${m}`}})).data}},C={name:"SkillsComponent",data(){return{skills:[],form:{id:null,name:"",level:"",order_no:""},isEditing:!1}},async created(){await this.loadSkills()},methods:{async loadSkills(){try{const o=await u.getAll();this.skills=o.data||[]}catch(o){console.error("Error fetching skills:",o)}},async saveSkill(){try{this.isEditing?await u.update(this.form.id,{name:this.form.name,level:this.form.level,order_no:this.form.order_no}):await u.add({name:this.form.name,level:this.form.level,order_no:this.form.order_no}),await this.loadSkills(),this.resetForm()}catch(o){console.error("Error saving skill:",o)}},editSkill(o){this.form.id=o.id,this.form.name=o.name,this.form.level=o.level,this.form.order_no=o.order_no,this.isEditing=!0},async deleteSkill(o){try{await u.delete(o),this.skills=this.skills.filter(t=>t.id!==o)}catch(t){console.error("Error deleting skill:",t)}},resetForm(){this.form.id=null,this.form.name="",this.form.level="",this.form.order_no="",this.isEditing=!1}},components:{Base:v}},F={class:"p-6 bg-white shadow-lg rounded-lg"},N={class:"flex flex-col"},U={class:"flex flex-col"},V={class:"flex flex-col"},z={class:"flex gap-3 col-span-1 md:col-span-3 justify-end mt-4"},L={type:"submit",class:"px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition duration-200"},M={class:"w-full border-collapse border border-gray-200"},P={class:"p-1 border"},j={class:"p-1 border"},D={class:"p-1 border"},I={class:"p-1 border text-center"},O=["onClick"],q=["onClick"];function H(o,t,g,J,s,l){const b=k("Base");return i(),x(b,null,{default:_(()=>[e("div",F,[t[10]||(t[10]=e("h2",{class:"text-2xl font-bold mb-6 text-gray-800 border-b pb-2"}," Manage Skills ",-1)),e("form",{onSubmit:t[4]||(t[4]=w((...r)=>l.saveSkill&&l.saveSkill(...r),["prevent"])),class:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-6 bg-gray-50 p-6 rounded-xl shadow-md"},[e("div",N,[t[5]||(t[5]=e("label",{for:"name",class:"text-sm font-medium text-gray-700 mb-2"}," Skill Name ",-1)),c(e("input",{id:"name","onUpdate:modelValue":t[0]||(t[0]=r=>s.form.name=r),type:"text",required:"",placeholder:"e.g., PHP, JavaScript, Python",class:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-full"},null,512),[[p,s.form.name]])]),e("div",U,[t[7]||(t[7]=e("label",{for:"level",class:"text-sm font-medium text-gray-700 mb-2"}," Level ",-1)),c(e("select",{id:"level","onUpdate:modelValue":t[1]||(t[1]=r=>s.form.level=r),required:"",class:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-full"},t[6]||(t[6]=[e("option",{value:"",disabled:""},"Select level",-1),e("option",null,"Beginner",-1),e("option",null,"Intermediate",-1),e("option",null,"Advanced",-1),e("option",null,"Expert",-1)]),512),[[S,s.form.level]])]),e("div",V,[t[8]||(t[8]=e("label",{for:"order_no",class:"text-sm font-medium text-gray-700 mb-2"}," Order No ",-1)),c(e("input",{id:"order_no","onUpdate:modelValue":t[2]||(t[2]=r=>s.form.order_no=r),type:"number",min:"1",placeholder:"Order No",class:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-full"},null,512),[[p,s.form.order_no,void 0,{number:!0}]])]),e("div",z,[e("button",L,d(s.isEditing?"Update":"Add"),1),s.isEditing?(i(),f("button",{key:0,type:"button",onClick:t[3]||(t[3]=(...r)=>l.resetForm&&l.resetForm(...r)),class:"px-6 py-2 bg-gray-400 text-white font-semibold rounded-lg hover:bg-gray-500 transition duration-200"}," Cancel ")):B("",!0)])],32),e("table",M,[t[9]||(t[9]=e("thead",null,[e("tr",{class:"bg-gray-100 text-left"},[e("th",{class:"p-1 border"},"Name"),e("th",{class:"p-1 border"},"Level"),e("th",{class:"p-1 border"},"Order"),e("th",{class:"p-1 border w-32 text-center"},"Actions")])],-1)),e("tbody",null,[(i(!0),f(E,null,A(s.skills,r=>(i(),f("tr",{key:r.id,class:"hover:bg-gray-50"},[e("td",P,d(r.name),1),e("td",j,d(r.level),1),e("td",D,d(r.order_no),1),e("td",I,[e("button",{onClick:h=>l.editSkill(r),class:"px-2 bg-yellow-500 text-white rounded hover:bg-yellow-600"}," Edit ",8,O),e("button",{onClick:h=>l.deleteSkill(r.id),class:"px-2 bg-red-600 text-white rounded hover:bg-red-700 ml-2"}," Delete ",8,q)])]))),128))])])])]),_:1})}const K=y(C,[["render",H]]);export{K as default};
